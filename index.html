<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Strroma</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="app">

    <!-- Hero Banner with Header Elements Overlaid -->
    <section class="hero-slider">
      <div class="slider-wrapper" id="slider-wrapper">
        <!-- Hero Slides Inserted via JS -->
      </div>
      <div class="slider-controls">
        <button class="prev-slide">‚ùÆ</button>
        <button class="next-slide">‚ùØ</button>
      </div>
      <!-- Overlayed Top Bar -->
      <div class="hero-top-bar">
        <button id="search-button" class="icon-btn">üîçÔ∏é</button>
        <button id="theme-toggle" class="icon-btn">üåô</button>
      </div>
    </section>

    
    
<div id="search-overlay" class="hidden">
  <div class="overlay-bg"></div>
  <div class="search-box">
    <input type="text" id="search-input" placeholder="Search for movies & series..." />
    <button id="close-search" class="close-btn">√ó</button>
    <div id="loading" class="hidden">
      <!-- <img src="assets/loading.gif" alt="Loading..." /> -->
    </div>
    <div id="search-results" class="results-grid"></div>
  </div>
</div>

<div id="modal-container"></div>

    



    <!-- top 10 section -->
   <section class="top10-series-section">
  <h2>Top 10</h2>
  <div class="top10-scroll-container">
    <button class="top10-scroll-left">‚ùÆ</button>
    <div class="top10-movie-row" id="top10-row"></div>
    <button class="top10-scroll-right">‚ùØ</button>
  </div>
</section>

<!-- Popup Dynamic Detail -->
<div class="top10-popup hidden" id="top10-popup">
  <div class="top10-popup-bg"></div>
  <div class="top10-popup-content">
    <img id="top10-popup-img" src="" alt="Movie">
    <button id="top10-popup-close">√ó</button>
    <h3 id="top10-popup-title"></h3>
    <div class="top10-popup-actions">
      <button id="top10-popup-like">‚ô• Like</button>
      <span id="top10-popup-duration"></span>
      <button id="top10-popup-play">‚ñ∫ Play</button>
    </div>
    <p id="top10-popup-desc"></p>
    <div id="top10-popup-details"></div>
  </div>
</div>


<!-- Top 10 Series Section -->
<section class="top10-series-section">
  <h2>Top 10 Series</h2>
  <div class="top10-scroll-container">
    <button class="top10-scroll-left">‚ùÆ</button>
    <div class="top10-movie-row" id="top10-series-row"></div>
    <button class="top10-scroll-right">‚ùØ</button>
  </div>
</section>

<!-- Popup Dynamic Detail -->
<div class="top10-popup hidden" id="top10-series-popup">
  <div class="top10-popup-bg"></div>
  <div class="top10-popup-content">
    <img id="series-popup-img" src="" alt="Series">
    <!-- <button id="series-popup-close">√ó</button> -->
     <button id="series-popup-close"
  style="
    position: absolute;
    top: 10px;
    right: 10px;
    font-size: 28px;
    background: rgba(0, 0, 0, 0.6);
    color: white;
    border: none;
    border-radius: 50%;
    width: 30px;
    height: 30px;
    cursor: pointer;
    z-index: 10000;
  "
>
  √ó
</button>

    <h3 id="series-popup-title"></h3>
    <div class="top10-popup-actions">
      <button id="series-popup-like">‚ô• Like</button>
      <span id="series-popup-duration"></span>
      <select id="series-season-select"></select>
    </div>
    <div id="series-episodes"></div>
    <p id="series-popup-desc"></p>
    <div id="series-popup-details"></div>
  </div>
</div>

<style>
  /* Use same CSS from movies for visual polish */
  
  .top10-series-section h2 {
    padding-left: 20px;
    margin-bottom: 10px;
    font-size: 22px;
  }
  .top10-series-section .top10-movie-box {
    width: 180px;
    height: 90px;
  }
  #series-episodes {
    margin: 10px 0;
  }
  .episode-item {
    display: flex;
    align-items: center;
    gap: 10px;
    margin: 6px 0;
    font-size: 14px;
  }
  .episode-item img {
    width: 60px;
    height: 35px;
    object-fit: cover;
    border-radius: 4px;
    cursor: pointer;
  }
  .episode-meta {
    display: flex;
    justify-content: space-between;
    flex: 1;
    align-items: center;
  }
</style>

<script>
const seriesRow = document.getElementById("top10-series-row");
const seriesPopup = document.getElementById("top10-series-popup");
const seriesImg = document.getElementById("series-popup-img");
const seriesTitle = document.getElementById("series-popup-title");
const seriesDesc = document.getElementById("series-popup-desc");
const seriesDetails = document.getElementById("series-popup-details");
const seriesClose = document.getElementById("series-popup-close");
const seriesDuration = document.getElementById("series-popup-duration");
const seasonSelect = document.getElementById("series-season-select");
const episodesContainer = document.getElementById("series-episodes");

// Fetch Series
fetch("data/top10series.json")
  .then(res => res.json())
  .then(seriesList => {
    seriesList.slice(0, 10).forEach((series, i) => {
      const box = document.createElement("div");
      box.className = "top10-movie-box";
      box.innerHTML = `
        <img src="${series.thumbnail}" alt="${series.name}">
        <div class="top10-number">${i + 1}</div>
      `;
      box.onclick = () => openSeriesPopup(series);
      seriesRow.appendChild(box);
    });
  });

function openSeriesPopup(series) {
  seriesImg.src = series.thumbnail;
  seriesTitle.textContent = series.name;
  seriesDesc.textContent = series.description || "No description.";
  seriesDuration.textContent = series.duration || "N/A";
  seriesDetails.innerHTML = `
    <p><b>Cast:</b> ${series.cast || "Unknown"}</p>
    <p><b>Director:</b> ${series.director || "Unknown"}</p>
    <p><b>Genre:</b> ${series.genre || "Unknown"}</p>
    <p><b>Industry:</b> ${series.industry || "Unknown"}</p>
  `;

  // Populate season select
  seasonSelect.innerHTML = "";
  series.seasons.forEach((s, idx) => {
    const option = document.createElement("option");
    option.value = idx;
    option.textContent = `Season ${s.season}`;
    seasonSelect.appendChild(option);
  });
  seasonSelect.selectedIndex = series.seasons.length - 1;
  renderEpisodes(series.seasons[seasonSelect.selectedIndex].episodes);

  seasonSelect.onchange = () => {
    const season = series.seasons[seasonSelect.value];
    renderEpisodes(season.episodes);
  };

  seriesPopup.classList.remove("hidden");
}

function renderEpisodes(episodes) {
  episodesContainer.innerHTML = "";
  episodes.forEach(ep => {
    const item = document.createElement("div");
    item.className = "episode-item";
    item.innerHTML = `
      <img src="${ep.thumbnail}" alt="${ep.title}" onclick="window.location.href='player.html?video=${encodeURIComponent(ep.videoBase)}'">
      <div class="episode-meta">
        <span>${ep.title}</span>
        <span>${ep.duration}</span>
      </div>
    `;
    episodesContainer.appendChild(item);
  });
}

seriesClose.onclick = () => seriesPopup.classList.add("hidden");
seriesPopup.querySelector(".top10-popup-bg").onclick = () => seriesPopup.classList.add("hidden");

// Scroll Buttons
const sLeftBtn = document.querySelector(".top10-series-section .top10-scroll-left");
const sRightBtn = document.querySelector(".top10-series-section .top10-scroll-right");

sLeftBtn.onclick = () => {
  seriesRow.scrollBy({ left: -seriesRow.clientWidth, behavior: 'smooth' });
};
sRightBtn.onclick = () => {
  seriesRow.scrollBy({ left: seriesRow.clientWidth, behavior: 'smooth' });
};
</script>

<!-- Popular Series Section -->
<section class="top10-series-section">
  <h2>Popular Series</h2>
  <div class="top10-scroll-container">
    <button class="top10-scroll-left">‚ùÆ</button>
    <div class="top10-movie-row" id="popular-series-row"></div>
    <button class="top10-scroll-right">‚ùØ</button>
  </div>
</section>

<!-- Dynamic Series Modal -->
<div class="top10-popup hidden" id="popular-series-popup">
  <div class="top10-popup-bg"></div>
  <div class="top10-popup-content">
    <img id="popular-series-img" src="" alt="Series" />
    <button id="popular-series-close"
      style="
        position: absolute;
        top: 10px;
        right: 10px;
        font-size: 28px;
        background: rgba(0, 0, 0, 0.6);
        color: white;
        border: none;
        border-radius: 50%;
        width: 30px;
        height: 30px;
        cursor: pointer;
        z-index: 10000;
      ">
      √ó
    </button>

    <h3 id="popular-series-title"></h3>
    <div class="top10-popup-actions">
      <button id="popular-series-like">‚ô• Like</button>
      <span id="popular-series-duration"></span>
      <select id="popular-series-season-select"></select>
    </div>
    <div id="popular-series-episodes"></div>
    <p id="popular-series-desc"></p>
    <div id="popular-series-details"></div>
  </div>
</div>

<style>
.popular-series-section h2 {
  margin-top: 20px;
  padding-left: 20px;
  margin-bottom: 10px;
  font-size: 22px;
}
.popular-series-row .top10-movie-box {
  width: 180px;
  height: 90px;
}
#popular-series-episodes {
  margin: 10px 0;
}
.episode-item {
  display: flex;
  align-items: center;
  gap: 10px;
  margin: 6px 0;
  font-size: 14px;
}
.episode-item img {
  width: 60px;
  height: 35px;
  object-fit: cover;
  border-radius: 4px;
  cursor: pointer;
}
.episode-meta {
  display: flex;
  justify-content: space-between;
  flex: 1;
  align-items: center;
}
</style>

<script>
const popularSeriesRow = document.getElementById("popular-series-row");
const popularSeriesPopup = document.getElementById("popular-series-popup");
const popularSeriesImg = document.getElementById("popular-series-img");
const popularSeriesTitle = document.getElementById("popular-series-title");
const popularSeriesDesc = document.getElementById("popular-series-desc");
const popularSeriesDetails = document.getElementById("popular-series-details");
const popularSeriesClose = document.getElementById("popular-series-close");
const popularSeriesDuration = document.getElementById("popular-series-duration");
const popularSeasonSelect = document.getElementById("popular-series-season-select");
const popularEpisodesContainer = document.getElementById("popular-series-episodes");

// Fetch Series
fetch("data/popularSeries.json")
  .then(res => res.json())
  .then(seriesList => {
    seriesList.forEach((series) => {
      const box = document.createElement("div");
      box.className = "top10-movie-box";
      box.innerHTML = `
        <img src="${series.thumbnail}" alt="${series.name}">
      `;
      box.onclick = () => openPopularSeriesPopup(series);
      popularSeriesRow.appendChild(box);
    });
  });

function openPopularSeriesPopup(series) {
  popularSeriesImg.src = series.thumbnail;
  popularSeriesTitle.textContent = series.name;
  popularSeriesDesc.textContent = series.description || "No description.";
  popularSeriesDuration.textContent = series.duration || "N/A";
  popularSeriesDetails.innerHTML = `
    <p><b>Cast:</b> ${series.cast || "Unknown"}</p>
    <p><b>Director:</b> ${series.director || "Unknown"}</p>
    <p><b>Genre:</b> ${series.genre || "Unknown"}</p>
    <p><b>Industry:</b> ${series.industry || "Unknown"}</p>
    <p><b>IMDB:</b> ${series.imdb || "N/A"}</p>
    <p><b>Year:</b> ${series.year || "N/A"}</p>
    <p><b>Language:</b> ${series.language || "N/A"}</p>
  `;

  // Populate seasons
  popularSeasonSelect.innerHTML = "";
  series.seasons.forEach((s, idx) => {
    const option = document.createElement("option");
    option.value = idx;
    option.textContent = `Season ${s.season}`;
    popularSeasonSelect.appendChild(option);
  });

  popularSeasonSelect.selectedIndex = series.seasons.length - 1;
  renderPopularEpisodes(series.seasons[popularSeasonSelect.selectedIndex].episodes);

  popularSeasonSelect.onchange = () => {
    const season = series.seasons[popularSeasonSelect.value];
    renderPopularEpisodes(season.episodes);
  };

  popularSeriesPopup.classList.remove("hidden");
}

function renderPopularEpisodes(episodes) {
  popularEpisodesContainer.innerHTML = "";
  episodes.forEach(ep => {
    const item = document.createElement("div");
    item.className = "episode-item";
    item.innerHTML = `
      <img src="${ep.thumbnail}" alt="${ep.title}" onclick="window.location.href='player.html?video=${encodeURIComponent(ep.videoBase)}'">
      <div class="episode-meta">
        <span>${ep.title}</span>
        <span>${ep.duration}</span>
      </div>
    `;
    popularEpisodesContainer.appendChild(item);
  });
}

// Close logic
popularSeriesClose.onclick = () => popularSeriesPopup.classList.add("hidden");
popularSeriesPopup.querySelector(".popular-series-popup-bg").onclick = () => popularSeriesPopup.classList.add("hidden");

// Scroll logic
document.querySelector(".popular-series-scroll-left").onclick = () => {
  popularSeriesRow.scrollBy({ left: -popularSeriesRow.clientWidth, behavior: "smooth" });
};
document.querySelector(".popular-series-scroll-right").onclick = () => {
  popularSeriesRow.scrollBy({ left: popularSeriesRow.clientWidth, behavior: "smooth" });
};
</script>


<!-- Dynamic Categories -->
    <div id="categories-container"></div>
  </div>



  <script src="script.js"></script>
</body>
</html>